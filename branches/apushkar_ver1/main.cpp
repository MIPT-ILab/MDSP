/**
 * @file:main.cpp 
 * The demonstation of the Simmy class usage.
 * @author Andrey Pushkar
 */
/*
 * Copyright 2011 MDSP team
 */

#include <iostream>
#include "simmy.h"


hostSInt32 main ( hostSInt32 argc, const char * argv[])
{
    hostUInt8 bytes[19*5] = 
    {
        132, // mov r4, 42
        12, //0000001100
        4, //00000100
        42, //00101010
        0, //00000000
        
        132, // mov r3, 3
        12, //0000001100
        3, //00000011
        3, //00000011
        0, //00000000
        
        132, // mov r5, 1000
        12, //0000001100
        5, //00000101
        232, //00000000
        3, //00000011
        
        1, // and r5, r4
        0, //00000000
        5, //00000101
        4, //00000100
        0, //00000000
        
        2, // or r3, r5
        0, //00000000
        3, //00000011
        5, //00000101
        0, //00000000
        
        3, // xor r5, 67
        12, //0000001100
        5, //00000101
        67, //01000011
        0, //00000000
        
        130, // add r3, r5
        0, //00000000
        3, //00000011
        5, //00000101
        0, //00000000
        
        130, // add r3, -6
        4, //000000100
        3, //00000011
        6, //00000110
        0, //00000000
        
        194, // ssgn r3, -
        0,
        3,
        0,
        0,
        
        131, // sub r4, r3
        0, //00000000
        4, //00000100
        3, //00000011
        0, //00000000
        
        195, // isgn r4
        0, //00000000
        4, //00000100
        0, //00000000
        0, //00000000
        
        129, // mul r4, 150
        12, //0000001100
        4, //00000100
        150, //10010110
        0, //00000000
        
        128, // div r4, 6
        12, //0000001100
        4, //00000100
        6, //00000110
        0, //00000000
        
        68, // not r4
        0, //00000000
        4, //00000100
        0, //00000000
        0, //00000000
    
        192, // dec r5
        0, //00000000
        5, //00000101
        0, //00000000
        0, //00000000
        
        128, // div r3, r5
        0, //00000000
        3, //00000011
        5, //00000101
        0, //00000000
        
        193, // inc r3
        0, //00000000
        3, //00000011
        0, //00000000
        0, //00000000
        
        129, // mul r4, r3
        0, //00000000
        4, //00000100
        3, //00000011
        0, //00000000
        
        132, // mov r0, r4
        0, //00000000
        0, //00000000
        4, //00000100
        0, //00000000

    };

    
    Simmy sim( bytes, 19*5);
    cout << sim.execute( 19);
    return 0;
}
